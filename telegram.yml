name: ğŸ“¡ WhalePulse Telegram Notifier

on:
  push:
    branches:
      - master  # Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ù†Ú¯Ø§Ù… push Ø¨Ù‡ Ø´Ø§Ø®Ù‡ master
  workflow_dispatch:  # Ø§Ù…Ú©Ø§Ù† Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÛŒ Ø§Ø² ØªØ¨ Actions

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: â¬‡ï¸ Checkout repository
        uses: actions/checkout@v4

      - name: ğŸ“¤ Send Telegram notification
        env:
          BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
          CHAT_ID: ${{ secrets.CHAT_ID }}
        run: |
          COMMIT_MESSAGE="${{ github.event.head_commit.message }}"
          COMMIT_AUTHOR="${{ github.event.head_commit.author.name }}"
          COMMIT_TIME=$(date '+%Y-%m-%d %H:%M:%S')
          MESSAGE="âœ… WhalePulse-Pro updated!\nğŸ‘¤ By: ${COMMIT_AUTHOR}\nğŸ“ Message: ${COMMIT_MESSAGE}\nâ° Time: ${COMMIT_TIME}"
          curl -s -X POST https://api.telegram.org/bot${BOT_TOKEN}/sendMessage \
            -d chat_id=${CHAT_ID} \
            -d text="${MESSAGE}"
